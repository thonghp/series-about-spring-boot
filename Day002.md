# Khái niệm

## Mục lục nội dung

- [1. Kiến trúc hệ thống](#1-kiến-trúc-hệ-thống)
- [2. Trực tiếp và chuyển hướng](#2-trực-tiếp-và-chuyển-hướng)
- [3. Bcrypt](#3-bcrypt)
- [4. Restful và web truyền thống](#4-restful-và-web-truyền-thống)
- [5. Spring mvc và Spring rest](#5-spring-mvc-và-spring-rest)
- [6. Thymeleaf](#6-thymeleaf)
- [7. HTTP](#7-http)
- [8. Cookie](#8-cookie)


# 1. Kiến trúc hệ thống

![architecture](/assets/architecture.jpg)

- Code sẽ được viết trong 4 layer view, controller, service, repository
- Khi client gửi request nó sẽ đến controller layer > service sẽ thực hiện logic > render view 
- View (Thymeleaf)
  - Sử dụng code html + thymeleaf để render ra giao diện.
- Controller (MVC, REST)
  - Sử dụng Spring MVC Controller, REST Controller hay RESTFul webservices
- Service (business classes)
  - Chứa các lớp business
- Repository (entities & interfaces)
  - Chứa các entity class và repository interface
- Spring data jpa
    - Sử dụng hibernate framework như implementation of JPA
- Hibernate
    - Sử dụng jdbc driver giao tiếp vs database 

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**     

## 2. Trực tiếp và chuyển hướng

Chuyển hướng sau đó tải lại trang web có lợi hơn trang web trực tiếp ở chổ:

- **Bảo mật ==>** chuyển hướng và tải lại trang web sẽ không lưu thông tin lại trong bộ nhớ cache của trình duyệt. 
    - Sử dụng với các thông tin nhạy cảm như **tài khoản ngân hàng,...**
- **Xử lý dữ liệu ==>** Khi thực hiện các thao tác thay đổi dữ liệu như thêm, sửa, xóa thì chuyển hướng và tải lại trang web giúp xác định rõ hơn rằng một thao tác đã hoàn tất trước khi hiển thị trang web mới, đảm bảo rằng dữ liệu hiển thị trên trang web mới được cập nhật và chính xác.
- **Truyền thông tin ==>** Truyền thông tin giữa các **`request`** khác nhau bằng cách truyền các tham số trên URL hoặc sử dụng đối tượng **`RedirectAttributes`** trong Spring Boot.

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 3. Bcrypt

- password hashing **dựa trên Blowfish** (symmetric-key block cipher) và chức năng **crypt trong unix**
- Bảo mật cao, **một salt - một chuỗi ngẫu nhiên được thêm vào trước khi mã hoá**, chống rainbow table attack
  - rainbow table attack là sử dụng 1 bảng băm của các mật khẩu thông dụng hoặc mật khẩu chọn trước đó ==> mục đích để đối chiếu dựa trên bảng băm tương ứng
- Độ dài có thể tăng khi phần cứng nhanh hơn ==> làm chậm tấn công

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 4. Restful và web truyền thống

**Web truyền thống**

- Thường tải nhiều tài nguyên từ máy chủ.
- Thông thường không giữ lại bất kỳ thông tin gì về trạng thái của ứng dụng.
- Lưu trữ thông tin **`session`** trên máy chủ.
- Trả về trang lỗi được tạo ra bởi máy chủ.

**Restful**

- Các ứng dụng giao tiếp với nhau thông qua các giao thức HTTP như **`GET, POST, PUT, DELETE`**
- Truyền tải dữ liệu qua các định dạng đơn giản như **`JSON hoặc XML`**.
- Lưu trữ thông tin trong bộ nhớ hoặc trên máy khách.
- Sử dụng **`access token`** để xác thực người dùng và bảo mật ứng dụng.
- Trả về mã lỗi HTTP tương ứng với các lỗi xảy ra

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 5. Spring mvc và Spring rest

**Spring mvc**

- Triển khai web truyền thống.
- Sử dụng các phương thức HTTP như **`GET, POST, PUT, DELETE`** để xử lý các yêu cầu.
- Sử dụng **`HTML, XML và JSON`** để định dạng dữ liệu đầu vào và đầu ra.
- Hỗ trợ quản lý session.

**Rest**

- Triển khai ứng dụng web restful.
- Sử dụng các phương thức HTTP như **`GET, POST, PUT, DELETE`** để triển khai các ứng dụng web RESTful.
- Sử dụng **`XML và JSON`** để định dạng dữ liệu đầu vào và đầu ra.
- Không hỗ trợ quản lý session

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 6. Thymeleaf

Là một thư viện Java template engine cho phép tạo các trang web động, cung cấp các tính năng tích hợp với Spring Framework

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 7. HTTP

- Là một giao thức **phi trạng thái hay không trạng thái (stateless)**
- Trạng thái khi mà chưa có hiểu đơn giản là một máy chủ nó không hiểu 1 trình duyệt có đang truy cập vào nó hay không hoặc là truy cập mà nó không biết đến từ đâu

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## 8. Cookie 

**Quy trình hoạt động**

![cookie](/assets/cookie1.jpg)

**Một vài thuộc tính cookie**

![cookie](/assets/cookie2.jpg)

- Là một tệp văn bản nhỏ mà trang web lưu trữ trên máy tính hoặc thiết bị di động của người dùng khi người dùng truy cập trang web
- Sử dụng trong ghi nhớ đăng nhập, theo dõi và quảng cáo
- Nếu một cookie không set thời gian tồn tại mặc định nó sẽ bằng session 
- Nếu **`HttpOnly`** set bằng false thì chúng ta có thể truy cập **`document.cookie`** trên console devtool lúc này có thể xem cookie **`==>`** không nên set **`HttpOnly`** bằng **`false`** vì có thể dẫn đến tấn công xxr


**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## Xem thêm bài viết khác

- [Config](Day001.md) 
- [Entity](Day003.md) 