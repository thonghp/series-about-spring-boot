# Repository

## Mục lục nội dung

- [1. Chú thích các annotation](#1-chú-thích-các-annotation)

## 1. Chú thích các annotation

**Đoạn code demo**

```java
@Repository
public interface User extends CrudRepository<User, Integer> {
    // select * from user where email = ?
    User findByEmail(String email);

    // query theo kiểu index 
    @Query("UPDATE User SET enabled = ?2 WHERE id = ?1")
    @Modifying
    void updateEnabledStatus(Integer id, boolean enabled);

    // query theo kiểu tham số 
    @Query("SELECT u FROM User u WHERE u.email = :email")
    public User getUserByEmail(@Param("email") String demo);
}

// PagingAndSortingRepository<T,ID> sử dụng trong phân trang và sắp xếp cột
```

- **`@Repository` ==>** Đánh dấu đây là repository, một cơ chế đóng gói hành vi lưu trữ, truy xuất và tìm kiếm mô phỏng một tập hợp các đối tượng
- **`@Query` ==>** Chỉ định câu lệnh truy vấn cho phương thức
- **`@Modifying` ==>** thông báo cho Spring rằng phương thức này sẽ thực hiện một truy vấn cập nhật **(UPDATE)** hoặc xóa **(DELETE)**. 
    - Nếu không sử dụng Spring sẽ mặc định rằng phương thức này sẽ thực hiện một truy vấn truy vấn trả về dữ liệu **(SELECT)**
- **`@Param` ==>** được sử dụng khi tên tham số trong method không trùng với tên trường trong câu truy vấn     

**[⬆ Quay trở lại đầu trang](#mục-lục-nội-dung)**

## Xem thêm bài viết khác

- [Entity](Day003.md) 
- [Unit Test](Day005.md) 






